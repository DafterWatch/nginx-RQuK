(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9iw0":function(e,t,n){"use strict";n.r(t),n.d(t,"ClientsModule",function(){return v});var i=n("SVse"),o=n("iInd"),s=n("AytR"),r=n("PSD3"),b=n.n(r),c=n("8Y7J"),a=n("IheW"),l=n("s7LF");function d(e,t){if(1&e){const e=c.Kb();c.Jb(0,"input",11),c.Qb("ngModelChange",function(t){return c.cc(e),c.Ub().searchTerm=t})("keyup",function(){return c.cc(e),c.Ub().filterClients()}),c.Ib()}if(2&e){const e=c.Ub();c.Xb("ngModel",e.searchTerm)}}function u(e,t){1&e&&(c.Jb(0,"td"),c.Jb(1,"span",13),c.gc(2,"Sin Deuda Pendiente"),c.Ib(),c.Ib())}function m(e,t){1&e&&(c.Jb(0,"td"),c.Jb(1,"span",14),c.gc(2,"Deuda Pendiente"),c.Ib(),c.Ib())}const h=function(e){return["edit",e]};function f(e,t){if(1&e&&(c.Jb(0,"tr"),c.Jb(1,"td"),c.gc(2),c.Ib(),c.Jb(3,"td"),c.gc(4),c.Ib(),c.fc(5,u,3,0,"td",9),c.fc(6,m,3,0,"td",9),c.Jb(7,"td"),c.Jb(8,"button",12),c.gc(9," Editar "),c.Ib(),c.Ib(),c.Ib()),2&e){const e=t.$implicit;c.wb(2),c.jc("",e.name," ",e.lastname,""),c.wb(2),c.hc(e.ci),c.wb(1),c.Xb("ngIf",!e.hasdebt),c.wb(1),c.Xb("ngIf",e.hasdebt),c.wb(2),c.Xb("routerLink",c.ac(6,h,e.id))}}function g(e,t){if(1&e&&(c.Jb(0,"div"),c.gc(1),c.Ib()),2&e){const e=c.Ub();c.wb(1),c.ic(' No se encontraron resultados para "',e.searchTerm,'". ')}}function p(e,t){1&e&&(c.Jb(0,"div",3),c.Jb(1,"div",4),c.Jb(2,"p"),c.gc(3,"No se encontraron productos."),c.Ib(),c.Ib(),c.Ib())}let I=(()=>{class e{constructor(e){this.http=e,this.clients=[],this.filteredClients=[],this.showNoResults=!1,this.searchTerm=""}ngOnInit(){this.getClients()}filterClients(){const e=this.searchTerm.trim().toLowerCase();this.filteredClients=this.clients.filter(t=>t.name.toLowerCase().includes(e)||t.lastname.toLowerCase().includes(e)||t.ci.toLowerCase().includes(e)),this.showNoResults=0===this.filteredClients.length}getClients(){this.http.get(s.a.apiEndpoint+"/clients").subscribe(e=>{this.clients=e,this.clients.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}),this.filteredClients=this.clients},e=>{console.error(e)})}onDelete(e){b.a.fire({title:"Do you want to delete this row?",icon:"info",showCancelButton:!0,confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&this.http.delete(s.a.apiEndpoint+"/clients/"+e).subscribe(()=>{b.a.fire("Deleted!","","success"),this.getClients()},e=>console.error(e))})}}return e.\u0275fac=function(t){return new(t||e)(c.Gb(a.a))},e.\u0275cmp=c.Ab({type:e,selectors:[["app-clients-list"]],decls:24,vars:4,consts:[[1,"container"],[1,"d-flex","justify-content-between","mb-4","mt-4"],["routerLink","new",1,"btn","btn-primary"],[1,"row"],[1,"col-md-12"],["type","text","placeholder","Buscar cliente...","class","form-control shadow-sm mb-3",3,"ngModel","ngModelChange","keyup",4,"ngIf"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","row",4,"ngIf"],["type","text","placeholder","Buscar cliente...",1,"form-control","shadow-sm","mb-3",3,"ngModel","ngModelChange","keyup"],["type","button",1,"btn","btn-primary","m-1",3,"routerLink"],[1,"badge","bg-success"],[1,"badge","bg-danger"]],template:function(e,t){1&e&&(c.Jb(0,"div",0),c.Jb(1,"div",1),c.Jb(2,"h2"),c.gc(3,"Clientes"),c.Ib(),c.Jb(4,"button",2),c.gc(5,"Crear Nuevo"),c.Ib(),c.Ib(),c.Jb(6,"div",3),c.Jb(7,"div",4),c.fc(8,d,1,1,"input",5),c.Jb(9,"table",6),c.Jb(10,"thead"),c.Jb(11,"tr"),c.Jb(12,"th",7),c.gc(13,"Nombre Cliente"),c.Ib(),c.Jb(14,"th",7),c.gc(15,"CI"),c.Ib(),c.Jb(16,"th",7),c.gc(17,"Deuda Pendiente"),c.Ib(),c.Jb(18,"th",7),c.gc(19,"Acciones"),c.Ib(),c.Ib(),c.Ib(),c.Jb(20,"tbody"),c.fc(21,f,10,8,"tr",8),c.Ib(),c.Ib(),c.fc(22,g,2,1,"div",9),c.fc(23,p,4,0,"div",10),c.Ib(),c.Ib(),c.Ib()),2&e&&(c.wb(8),c.Xb("ngIf",t.clients.length>0),c.wb(13),c.Xb("ngForOf",t.filteredClients),c.wb(1),c.Xb("ngIf",t.showNoResults),c.wb(1),c.Xb("ngIf",!t.clients||!t.clients.length))},directives:[o.c,i.j,i.i,l.b,l.g,l.i],styles:[""]}),e})(),w=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.route=t,this.router=n,this.http=i,this.title="Registrar Nuevo Cliente",this.name="",this.imageurl="",this.description="",this.quantity=0,this.isNew=!0,this.form=e.group({id:[0],name:["",[l.o.required]],lastName:["",[l.o.required]],ci:["",[l.o.required]]})}ngOnInit(){this.title="Registrar Nuevo Cliente";let e=this.route.snapshot.paramMap.get("id");e&&(this.isNew=!1,this.title="Editar Cliente",this.http.get(s.a.apiEndpoint+"/clients/"+e).subscribe(e=>{this.form.patchValue({id:e.id,name:e.name,lastName:e.lastname,ci:e.ci})},e=>{console.error(e)}))}onSubmit(){this.isNew?this.http.post(s.a.apiEndpoint+"/clients",this.form.value).subscribe(e=>{b.a.fire({icon:"success",title:"Saved!",text:""}),this.router.navigate(["/clients"])},e=>{console.error(e),b.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}):this.http.put(s.a.apiEndpoint+"/clients/"+this.form.value.id,this.form.value).subscribe(e=>{b.a.fire({icon:"success",title:"Edited!",text:""}),this.router.navigate(["/clients"])},e=>console.error(e))}}return e.\u0275fac=function(t){return new(t||e)(c.Gb(l.c),c.Gb(o.a),c.Gb(o.b),c.Gb(a.a))},e.\u0275cmp=c.Ab({type:e,selectors:[["app-new-client"]],decls:22,vars:6,consts:[[1,"container","mt-4","w-100"],[1,"d-flex","justify-content-between","mb-4","mt-4"],[1,"card","p-3",3,"formGroup","submit"],[1,"mb-3"],[1,"form-label"],["type","text","name","name","formControlName","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastName","formControlName","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","ci","formControlName","ci","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-center","m-1"],["type","submit",1,"btn","btn-primary","m-1",3,"disabled"],["type","button","routerLink","/clients",1,"btn","btn-secondary","m-1"]],template:function(e,t){1&e&&(c.Jb(0,"div",0),c.Jb(1,"div",1),c.Jb(2,"h2"),c.gc(3),c.Ib(),c.Ib(),c.Jb(4,"form",2),c.Qb("submit",function(){return t.onSubmit()}),c.Jb(5,"div",3),c.Jb(6,"label",4),c.gc(7,"Nombres"),c.Ib(),c.Jb(8,"input",5),c.Qb("ngModelChange",function(e){return t.form.value.name=e}),c.Ib(),c.Ib(),c.Jb(9,"div",3),c.Jb(10,"label",4),c.gc(11,"Apellidos"),c.Ib(),c.Jb(12,"input",6),c.Qb("ngModelChange",function(e){return t.form.value.lastName=e}),c.Ib(),c.Ib(),c.Jb(13,"div",3),c.Jb(14,"label",4),c.gc(15,"Carnet Identidad"),c.Ib(),c.Jb(16,"input",7),c.Qb("ngModelChange",function(e){return t.form.value.ci=e}),c.Ib(),c.Ib(),c.Jb(17,"div",8),c.Jb(18,"button",9),c.gc(19," Registrar "),c.Ib(),c.Jb(20,"button",10),c.gc(21," Cancelar "),c.Ib(),c.Ib(),c.Ib(),c.Ib()),2&e&&(c.wb(3),c.hc(t.title),c.wb(1),c.Xb("formGroup",t.form),c.wb(4),c.Xb("ngModel",t.form.value.name),c.wb(4),c.Xb("ngModel",t.form.value.lastName),c.wb(4),c.Xb("ngModel",t.form.value.ci),c.wb(2),c.Xb("disabled",t.form.invalid))},directives:[l.q,l.h,l.e,l.b,l.g,l.d,l.m,o.c],styles:[""]}),e})();const J=[{path:"",component:I},{path:"new",component:w},{path:"edit/:id",component:w}];let C=(()=>{class e{}return e.\u0275mod=c.Eb({type:e}),e.\u0275inj=c.Db({factory:function(t){return new(t||e)},imports:[[o.e.forChild(J)],o.e]}),e})(),v=(()=>{class e{}return e.\u0275mod=c.Eb({type:e}),e.\u0275inj=c.Db({factory:function(t){return new(t||e)},imports:[[i.b,C,l.f,l.l]]}),e})()}}]);