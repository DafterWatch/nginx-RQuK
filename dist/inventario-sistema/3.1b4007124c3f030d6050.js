(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"ct+p":function(e,n,t){"use strict";t.r(n),t.d(n,"HomeModule",function(){return f});var o=t("SVse"),i=t("iInd"),c=t("AytR"),b=t("8Y7J"),a=t("IheW"),r=t("s7LF");function s(e,n){if(1&e&&(b.Jb(0,"option",14),b.gc(1),b.Ib()),2&e){const e=n.$implicit;b.Xb("value",e.numero),b.wb(1),b.hc(e.nombre)}}function l(e,n){if(1&e&&(b.Jb(0,"option",14),b.gc(1),b.Ib()),2&e){const e=n.$implicit;b.Xb("value",e),b.wb(1),b.hc(e)}}function d(e,n){if(1&e&&(b.Jb(0,"div",15),b.Jb(1,"div",16),b.Jb(2,"h4"),b.gc(3,"Ganancia Total:"),b.Ib(),b.Jb(4,"p"),b.gc(5),b.Ib(),b.Ib(),b.Ib()),2&e){const e=b.Ub();b.wb(5),b.ic("",e.totalGananciaMes," Bs")}}function u(e,n){if(1&e&&(b.Jb(0,"tr"),b.Jb(1,"td"),b.gc(2),b.Ib(),b.Jb(3,"td"),b.gc(4),b.Ib(),b.Jb(5,"td"),b.gc(6),b.Ib(),b.Jb(7,"td"),b.gc(8),b.Ib(),b.Jb(9,"td"),b.gc(10),b.Ib(),b.Jb(11,"td"),b.gc(12),b.Vb(13,"date"),b.Ib(),b.Ib()),2&e){const e=n.$implicit;b.wb(2),b.hc(e.name),b.wb(2),b.ic("",e.quantity," Unidades"),b.wb(2),b.ic("",e.price," Bs"),b.wb(2),b.ic("",e.quantity*e.price," Bs"),b.wb(2),b.ic("",e.montpayed," Bs"),b.wb(2),b.hc(b.Wb(13,6,e.datebuy,"dd-MM-yyyy"))}}function m(e,n){1&e&&(b.Jb(0,"div",2),b.Jb(1,"div",17),b.Jb(2,"p"),b.gc(3,"No se encontraron ventas."),b.Ib(),b.Ib(),b.Ib())}const h=[{path:"",component:(()=>{class e{constructor(e){this.http=e,this.meses=[{nombre:"Enero",numero:1},{nombre:"Febrero",numero:2},{nombre:"Marzo",numero:3},{nombre:"Abril",numero:4},{nombre:"Mayo",numero:5},{nombre:"Junio",numero:6},{nombre:"Julio",numero:7},{nombre:"Agosto",numero:8},{nombre:"Septiembre",numero:9},{nombre:"Octubre",numero:10},{nombre:"Noviembre",numero:11},{nombre:"Diciembre",numero:12}],this.anios=[],this.mesSeleccionado="",this.anioSeleccionado=0,this.list=[],this.totalGananciaMes=0}ngOnInit(){const e=new Date;this.mesSeleccionado=(e.getMonth()+1).toString(),this.anioSeleccionado=e.getFullYear();for(let n=2020;n<=2030;n++)this.anios.push(n);this.filtrarFecha()}filtrarFecha(){this.http.post(c.a.apiEndpoint+"/home",{fecha:"01-"+this.mesSeleccionado+"-"+this.anioSeleccionado}).subscribe(e=>{this.list=e,this.list.sort(function(e,n){return e.id>n.id?-1:e.id<n.id?1:0}),this.calcularTotalGanancia()},e=>{console.error(e)})}calcularTotalGanancia(){this.totalGananciaMes=0;for(const e of this.list)this.totalGananciaMes+=Number(e.montpayed)}}return e.\u0275fac=function(n){return new(n||e)(b.Gb(a.a))},e.\u0275cmp=b.Ab({type:e,selectors:[["app-home-list"]],decls:34,vars:7,consts:[[1,"container","mt-4"],[1,"d-flex","justify-content-between","mb-4","mt-4"],[1,"row"],[1,"col"],["for","selectMes"],["id","selectMes",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","selectAnio"],["id","selectAnio",1,"form-select",3,"ngModel","ngModelChange","change"],["class","mt-3",4,"ngIf"],[1,"table","mt-3"],["scope","col"],[4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[3,"value"],[1,"mt-3"],[1,"form-group"],[1,"col-md-12"]],template:function(e,n){1&e&&(b.Jb(0,"div",0),b.Jb(1,"div",1),b.Jb(2,"h2"),b.gc(3,"Resumen Ganancias"),b.Ib(),b.Ib(),b.Jb(4,"div",2),b.Jb(5,"div",3),b.Jb(6,"label",4),b.gc(7,"Mes:"),b.Ib(),b.Jb(8,"select",5),b.Qb("ngModelChange",function(e){return n.mesSeleccionado=e})("change",function(){return n.filtrarFecha()}),b.fc(9,s,2,2,"option",6),b.Ib(),b.Ib(),b.Jb(10,"div",3),b.Jb(11,"label",7),b.gc(12,"A\xf1o:"),b.Ib(),b.Jb(13,"select",8),b.Qb("ngModelChange",function(e){return n.anioSeleccionado=e})("change",function(){return n.filtrarFecha()}),b.fc(14,l,2,2,"option",6),b.Ib(),b.Ib(),b.Ib(),b.fc(15,d,6,1,"div",9),b.Jb(16,"table",10),b.Jb(17,"thead"),b.Jb(18,"tr"),b.Jb(19,"th",11),b.gc(20,"Producto"),b.Ib(),b.Jb(21,"th",11),b.gc(22,"Cantidad"),b.Ib(),b.Jb(23,"th",11),b.gc(24,"Precio Unidad"),b.Ib(),b.Jb(25,"th",11),b.gc(26,"Total"),b.Ib(),b.Jb(27,"th",11),b.gc(28,"Monto Cancelado"),b.Ib(),b.Jb(29,"th",11),b.gc(30,"Fecha Venta"),b.Ib(),b.Ib(),b.Ib(),b.Jb(31,"tbody"),b.fc(32,u,14,9,"tr",12),b.Ib(),b.Ib(),b.fc(33,m,4,0,"div",13),b.Ib()),2&e&&(b.wb(8),b.Xb("ngModel",n.mesSeleccionado),b.wb(1),b.Xb("ngForOf",n.meses),b.wb(4),b.Xb("ngModel",n.anioSeleccionado),b.wb(1),b.Xb("ngForOf",n.anios),b.wb(1),b.Xb("ngIf",n.list&&n.list.length>0),b.wb(17),b.Xb("ngForOf",n.list),b.wb(1),b.Xb("ngIf",!n.list||!n.list.length))},directives:[r.n,r.g,r.i,o.i,o.j,r.j,r.p],pipes:[o.d],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=b.Eb({type:e}),e.\u0275inj=b.Db({factory:function(n){return new(n||e)},imports:[[i.e.forChild(h)],i.e]}),e})(),f=(()=>{class e{}return e.\u0275mod=b.Eb({type:e}),e.\u0275inj=b.Db({factory:function(n){return new(n||e)},imports:[[o.b,g,r.f,r.l]]}),e})()}}]);